(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-22d0e0b1"],{a3d6:function(t,e,a){},a437:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{attrs:{data:t.tableData,stripe:""}},[a("el-table-column",{attrs:{prop:"uid",label:"学号"}}),a("el-table-column",{attrs:{prop:"name",label:"姓名"}}),a("el-table-column",{attrs:{prop:"sex",label:"性别"}}),a("el-table-column",{attrs:{prop:"major",label:"专业"}}),a("el-table-column",{attrs:{prop:"address",label:"住址"}}),a("el-table-column",{attrs:{prop:"reg_date",label:"时间"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:t.clickAdd}},[t._v("增加")]),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.deleteInfo(e.row)}}},[t._v("删除")]),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.clickUpdate(e.row)}}},[t._v("修改")])]}}])})],1),a("el-dialog",{attrs:{visible:t.visible,title:t.oTitle},on:{"update:visible":function(e){t.visible=e}}},[a("el-form",{ref:"ruleForm",attrs:{model:t.formData,rules:t.rules,"label-position":"left","label-width":"80px"}},[a("el-form-item",{attrs:{prop:"uid",label:"学号"}},[a("el-input",{model:{value:t.formData.uid,callback:function(e){t.$set(t.formData,"uid",e)},expression:"formData.uid"}})],1),a("el-form-item",{attrs:{prop:"name",label:"姓名"}},[a("el-input",{model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{prop:"sex",label:"性别"}},[a("el-radio-group",{model:{value:t.formData.sex,callback:function(e){t.$set(t.formData,"sex",e)},expression:"formData.sex"}},[a("el-radio",{attrs:{label:"男"}}),a("el-radio",{attrs:{label:"女"}})],1)],1),a("el-form-item",{attrs:{prop:"major",label:"专业"}},[a("el-input",{model:{value:t.formData.major,callback:function(e){t.$set(t.formData,"major",e)},expression:"formData.major"}})],1),a("el-form-item",{attrs:{prop:"address",label:"住址"}},[a("el-input",{model:{value:t.formData.address,callback:function(e){t.$set(t.formData,"address",e)},expression:"formData.address"}})],1),a("el-form-item",{attrs:{prop:"reg_date",label:"时间"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:t.formData.reg_date,callback:function(e){t.$set(t.formData,"reg_date",e)},expression:"formData.reg_date"}})],1)],1),a("el-button",{attrs:{size:"mini"},on:{click:function(e){t.visible=!1}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.save}},[t._v("确定")])],1),a("Progress")],1)},o=[],i=(a("d81d"),a("b0c0"),a("2909")),n=a("365c"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"progress"},[a("div",{staticClass:"wrap"},[a("div",{staticClass:"progress-outer"},[a("div",{staticClass:"progress-inner",style:{width:t.percent+"%"}})])]),a("div",{staticClass:"text"},[t._v(t._s(t.percent)+"%")])]),a("div",{staticClass:"btn"},[a("el-button",{attrs:{size:"mini"},on:{click:t.run}},[t._v("start")]),a("el-button",{attrs:{size:"mini"},on:{click:t.stop}},[t._v("stop")])],1)])},l=[],d={name:"progress",data:function(){return{percent:0,timer:null}},methods:{run:function(){var t=this;this.percent=0,this.timer&&clearInterval(this.timer),this.timer=setInterval((function(){if(t.percent>=100)return t.percent=100,void clearInterval(t.timer);t.percent+=2}),60)},stop:function(){clearInterval(this.timer)}}},c=d,u=(a("d5f4"),a("2877")),m=Object(u["a"])(c,s,l,!1,null,"2e79b0d3",null),f=m.exports,p={name:"studentInfo",components:{Progress:f},data:function(){var t=function(t,e,a){e?a():a(new Error("学号不允许为空或输入值不符合"))},e=function(t,e,a){e?a():a(new Error("姓名不允许为空或输入值不符合"))},a=function(t,e,a){e?a():a(new Error("专业不允许为空或输入值不符合"))},r=function(t,e,a){e?a():a(new Error("住址不允许为空或输入值不符合"))},o=function(t,e,a){e?a():a(new Error("时间不允许为空或输入值不符合"))};return{oType:"add",tableData:[],visible:!1,formData:{uid:"",name:"",sex:"男",major:"",address:"",reg_date:""},rules:{uid:[{validator:t}],name:[{validator:e}],major:[{validator:a}],address:[{validator:r}],reg_date:[{validator:o}]}}},computed:{oTitle:function(){return"add"===this.oType?"新增学生信息":"修改学生信息"}},mounted:function(){this.getStudentInfo()},methods:{getStudentInfo:function(){var t=this;Object(n["f"])().then((function(e){200===e.data.code&&(t.tableData=e.data.data)}))},initData:function(){this.$refs["ruleForm"]&&this.$refs["ruleForm"].resetFields(),console.log("formData: ",JSON.stringify(this.formData,null,2))},clickAdd:function(){this.initData(),this.visible=!0,this.oType="add";var t=this.tableData.map((function(t){return+t.uid}));this.formData.uid="".concat(Math.max.apply(Math,Object(i["a"])(t))+1)},addInfo:function(){var t=this,e={uid:this.formData.uid,name:this.formData.name,sex:this.formData.sex,major:this.formData.major,address:this.formData.address,reg_date:this.formData.reg_date};Object(n["a"])(e).then((function(e){200===e.data.code&&(t.$message.success("新增成功，"+e.data.msg),t.getStudentInfo())}))},deleteInfo:function(t){var e=this;this.$confirm("确定要删除该学生信息吗？","提示").then((function(){Object(n["d"])({uid:t.uid}).then((function(t){200===t.data.code&&(e.$message.success("删除成功"),e.getStudentInfo())}))})).catch((function(){}))},clickUpdate:function(t){var e=t.uid,a=t.name,r=t.sex,o=t.major,i=t.address,n=t.reg_date;this.visible=!0,this.oType="update",this.formData={uid:e,name:a,sex:r,major:o,address:i,reg_date:n}},updateInfo:function(){var t=this,e={uid:this.formData.uid,name:this.formData.name,sex:this.formData.sex,major:this.formData.major,address:this.formData.address,reg_date:this.formData.reg_date};Object(n["h"])(e).then((function(e){200===e.data.code&&(t.$message.success("修改成功，"+e.data.msg),t.getStudentInfo())}))},save:function(){var t=this;this.$refs["ruleForm"].validate((function(e){e&&("add"===t.oType?t.addInfo():t.updateInfo(),t.visible=!1)}))}}},b=p,h=Object(u["a"])(b,r,o,!1,null,null,null);e["default"]=h.exports},d5f4:function(t,e,a){"use strict";a("a3d6")},d81d:function(t,e,a){"use strict";var r=a("23e7"),o=a("b727").map,i=a("1dde"),n=i("map");r({target:"Array",proto:!0,forced:!n},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-22d0e0b1.e0236938.js.map